SYRIAN_COMPETITORS = [
    {
        "name": "Syriantel Delivery",
        "features": ["Food Delivery", "Restaurant Orders", "Real-time Tracking", "Payment Integration", "Rating System"],
        "social": {"facebook": "https://facebook.com/syrianteldelivery", "instagram": None, "whatsapp": "+963933000000", "telegram": None},
        "app_links": {"android": "https://play.google.com/store/apps/details?id=com.syriantel.delivery", "ios": None, "website": "https://syriantel.sy"},
        "cities": ["Damascus", "Aleppo", "Homs"]
    },
    {
        "name": "Talabat Syria",
        "features": ["Food Delivery", "Multiple Restaurants", "GPS Tracking", "Online Payment", "Promo Codes", "Customer Support"],
        "social": {"facebook": "https://facebook.com/talabatsyria", "instagram": "https://instagram.com/talabatsyria", "whatsapp": None, "telegram": "https://t.me/talabatsyria"},
        "app_links": {"android": "https://play.google.com/store/apps/details?id=com.talabat.syria", "ios": "https://apps.apple.com/app/talabat-syria", "website": "https://talabat.sy"},
        "cities": ["Damascus", "Lattakia", "Tartous"]
    },
    {
        "name": "Haraj Syria",
        "features": ["Buy & Sell", "Classifieds", "Car Sales", "Real Estate", "Electronics", "User Verification", "Chat System"],
        "social": {"facebook": "https://facebook.com/harajsyria", "instagram": None, "whatsapp": "+963944000000", "telegram": "https://t.me/harajsyria"},
        "app_links": {"android": "https://play.google.com/store/apps/details?id=com.haraj.syria", "ios": None, "website": "https://haraj.sy"},
        "cities": ["Damascus", "Aleppo", "Homs", "Hama"]
    },
    {
        "name": "Syriatel Pay",
        "features": ["Mobile Payments", "Bill Pay", "Money Transfer", "QR Payments", "Account Management"],
        "social": {"facebook": "https://facebook.com/syriatel", "instagram": "https://instagram.com/syriatel", "whatsapp": None, "telegram": None},
        "app_links": {"android": "https://play.google.com/store/apps/details?id=com.syriatel.pay", "ios": "https://apps.apple.com/app/syriatel-pay", "website": "https://syriatel.sy"},
        "cities": ["All Syria"]
    },
    {
        "name": "MTN Cash",
        "features": ["Mobile Wallet", "Money Transfer", "Bill Payment", "Merchant Payments", "Cash Out"],
        "social": {"facebook": "https://facebook.com/mtnsyria", "instagram": "https://instagram.com/mtnsyria", "whatsapp": None, "telegram": None},
        "app_links": {"android": "https://play.google.com/store/apps/details?id=com.mtn.cash", "ios": "https://apps.apple.com/app/mtn-cash", "website": "https://mtn.com.sy"},
        "cities": ["All Syria"]
    },
    {
        "name": "Waseet Syria",
        "features": ["Job Listings", "CV Upload", "Company Profiles", "Job Alerts", "Search Filters"],
        "social": {"facebook": "https://facebook.com/waseetsyria", "instagram": None, "whatsapp": None, "telegram": "https://t.me/waseetsyria"},
        "app_links": {"android": "https://play.google.com/store/apps/details?id=com.waseet.syria", "ios": None, "website": "https://waseet.sy"},
        "cities": ["Damascus", "Aleppo"]
    },
    {
        "name": "Akkar Jobs",
        "features": ["Job Board", "Resume Builder", "Company Reviews", "Salary Information", "Career Advice"],
        "social": {"facebook": "https://facebook.com/akkarjobs", "instagram": "https://instagram.com/akkarjobs", "whatsapp": "+963955000000", "telegram": None},
        "app_links": {"android": None, "ios": None, "website": "https://akkarjobs.com"},
        "cities": ["Damascus", "All Syria"]
    },
    {
        "name": "Syria Taxi",
        "features": ["Ride Hailing", "GPS Navigation", "Fare Estimation", "Driver Rating", "Trip History"],
        "social": {"facebook": "https://facebook.com/syriataxi", "instagram": None, "whatsapp": "+963988000000", "telegram": "https://t.me/syriataxi"},
        "app_links": {"android": "https://play.google.com/store/apps/details?id=com.syria.taxi", "ios": None, "website": None},
        "cities": ["Damascus", "Aleppo", "Lattakia"]
    },
    {
        "name": "Yalla Taxi",
        "features": ["Taxi Booking", "Live Tracking", "Multiple Payment Options", "Scheduled Rides", "Female Driver Option"],
        "social": {"facebook": "https://facebook.com/yallataxi", "instagram": "https://instagram.com/yallataxi", "whatsapp": None, "telegram": None},
        "app_links": {"android": "https://play.google.com/store/apps/details?id=com.yalla.taxi", "ios": "https://apps.apple.com/app/yalla-taxi", "website": "https://yallataxi.sy"},
        "cities": ["Damascus", "Homs"]
    },
    {
        "name": "Souq Syria",
        "features": ["E-commerce", "Multiple Categories", "Seller Marketplace", "Secure Payments", "Delivery Service", "Product Reviews"],
        "social": {"facebook": "https://facebook.com/souqsyria", "instagram": "https://instagram.com/souqsyria", "whatsapp": "+963933111000", "telegram": "https://t.me/souqsyria"},
        "app_links": {"android": "https://play.google.com/store/apps/details?id=com.souq.syria", "ios": None, "website": "https://souq.sy"},
        "cities": ["Damascus", "Aleppo", "Homs", "Lattakia"]
    },
    {
        "name": "Syria Shop",
        "features": ["Online Shopping", "Fashion", "Electronics", "Home Products", "Fast Delivery", "Return Policy"],
        "social": {"facebook": "https://facebook.com/syriashop", "instagram": "https://instagram.com/syriashop", "whatsapp": None, "telegram": None},
        "app_links": {"android": "https://play.google.com/store/apps/details?id=com.syria.shop", "ios": "https://apps.apple.com/app/syria-shop", "website": "https://syriashop.com"},
        "cities": ["Damascus", "All Major Cities"]
    },
    {
        "name": "Pharmacy Syria",
        "features": ["Medicine Delivery", "Prescription Upload", "Pharmacy Locator", "Health Products", "24/7 Service"],
        "social": {"facebook": "https://facebook.com/pharmacysyria", "instagram": None, "whatsapp": "+963944222000", "telegram": None},
        "app_links": {"android": "https://play.google.com/store/apps/details?id=com.pharmacy.syria", "ios": None, "website": "https://pharmacy.sy"},
        "cities": ["Damascus", "Aleppo"]
    },
    {
        "name": "Doctor Syria",
        "features": ["Doctor Appointments", "Telemedicine", "Medical Records", "Specialist Search", "Lab Results"],
        "social": {"facebook": "https://facebook.com/doctorsyria", "instagram": "https://instagram.com/doctorsyria", "whatsapp": None, "telegram": "https://t.me/doctorsyria"},
        "app_links": {"android": "https://play.google.com/store/apps/details?id=com.doctor.syria", "ios": "https://apps.apple.com/app/doctor-syria", "website": "https://doctor.sy"},
        "cities": ["Damascus", "Aleppo", "Homs", "Lattakia"]
    },
    {
        "name": "Aqar Syria",
        "features": ["Real Estate Listings", "Buy/Sell/Rent", "Property Search", "Agent Connect", "Virtual Tours", "Price Comparison"],
        "social": {"facebook": "https://facebook.com/aqarsyria", "instagram": "https://instagram.com/aqarsyria", "whatsapp": "+963955333000", "telegram": None},
        "app_links": {"android": "https://play.google.com/store/apps/details?id=com.aqar.syria", "ios": None, "website": "https://aqar.sy"},
        "cities": ["Damascus", "Aleppo", "Lattakia", "Tartous"]
    },
    {
        "name": "Car Syria",
        "features": ["Car Sales", "Car Rental", "Spare Parts", "Dealer Listings", "Price Estimates", "Vehicle History"],
        "social": {"facebook": "https://facebook.com/carsyria", "instagram": None, "whatsapp": "+963988444000", "telegram": "https://t.me/carsyria"},
        "app_links": {"android": "https://play.google.com/store/apps/details?id=com.car.syria", "ios": None, "website": "https://carsyria.com"},
        "cities": ["Damascus", "Aleppo", "Homs"]
    },
    {
        "name": "Fresh Market",
        "features": ["Grocery Delivery", "Fresh Produce", "Daily Deals", "Subscription Service", "Same-day Delivery"],
        "social": {"facebook": "https://facebook.com/freshmarketsy", "instagram": "https://instagram.com/freshmarketsy", "whatsapp": "+963933555000", "telegram": None},
        "app_links": {"android": "https://play.google.com/store/apps/details?id=com.freshmarket.sy", "ios": None, "website": "https://freshmarket.sy"},
        "cities": ["Damascus"]
    },
    {
        "name": "Clothes Syria",
        "features": ["Fashion E-commerce", "Men & Women", "Kids Clothing", "Accessories", "Size Guide", "Easy Returns"],
        "social": {"facebook": "https://facebook.com/clothessyria", "instagram": "https://instagram.com/clothessyria", "whatsapp": None, "telegram": None},
        "app_links": {"android": None, "ios": None, "website": "https://clothes.sy"},
        "cities": ["Damascus", "Aleppo"]
    },
    {
        "name": "Beauty Syria",
        "features": ["Cosmetics", "Skincare", "Perfumes", "Beauty Tools", "Brand Products", "Gift Sets"],
        "social": {"facebook": "https://facebook.com/beautysyria", "instagram": "https://instagram.com/beautysyria", "whatsapp": "+963944666000", "telegram": None},
        "app_links": {"android": "https://play.google.com/store/apps/details?id=com.beauty.syria", "ios": None, "website": "https://beauty.sy"},
        "cities": ["Damascus", "Lattakia"]
    },
    {
        "name": "Tech Syria",
        "features": ["Electronics", "Computers", "Mobile Phones", "Accessories", "Warranty Service", "Tech Support"],
        "social": {"facebook": "https://facebook.com/techsyria", "instagram": "https://instagram.com/techsyria", "whatsapp": "+963955777000", "telegram": "https://t.me/techsyria"},
        "app_links": {"android": "https://play.google.com/store/apps/details?id=com.tech.syria", "ios": None, "website": "https://tech.sy"},
        "cities": ["Damascus", "Aleppo", "Homs"]
    },
    {
        "name": "Education Syria",
        "features": ["Online Courses", "Tutoring", "Exam Prep", "Certificates", "Video Lessons", "Student Community"],
        "social": {"facebook": "https://facebook.com/educationsyria", "instagram": "https://instagram.com/educationsyria", "whatsapp": None, "telegram": "https://t.me/educationsyria"},
        "app_links": {"android": "https://play.google.com/store/apps/details?id=com.education.syria", "ios": "https://apps.apple.com/app/education-syria", "website": "https://education.sy"},
        "cities": ["All Syria"]
    }
]


def get_competitors_for_analysis(industry=None):
    return SYRIAN_COMPETITORS


def format_competitors_for_prompt(competitors):
    if not competitors:
        return "No competitor data available."
    
    lines = []
    for i, comp in enumerate(competitors, 1):
        lines.append(f"\n--- Competitor {i}: {comp['name']} ---")
        
        if comp.get('features'):
            features_str = ", ".join(comp['features'][:15])
            if len(comp['features']) > 15:
                features_str += f" (+{len(comp['features']) - 15} more)"
            lines.append(f"Features: {features_str}")
        
        if comp.get('cities'):
            cities = comp['cities'] if isinstance(comp['cities'], list) else [comp['cities']]
            lines.append(f"Operating Cities: {', '.join(cities)}")
        
        links = []
        if comp.get('app_links', {}).get('android'):
            links.append(f"Android: {comp['app_links']['android']}")
        if comp.get('app_links', {}).get('ios'):
            links.append(f"iOS: {comp['app_links']['ios']}")
        if comp.get('app_links', {}).get('website'):
            links.append(f"Website: {comp['app_links']['website']}")
        if links:
            lines.append(f"App Links: {'; '.join(links)}")
        
        social_links = []
        social = comp.get('social', {})
        if social.get('facebook'):
            social_links.append(f"Facebook: {social['facebook']}")
        if social.get('instagram'):
            social_links.append(f"Instagram: {social['instagram']}")
        if social.get('whatsapp'):
            social_links.append(f"WhatsApp: {social['whatsapp']}")
        if social.get('telegram'):
            social_links.append(f"Telegram: {social['telegram']}")
        if social_links:
            lines.append(f"Social: {'; '.join(social_links)}")
    
    return "\n".join(lines)
